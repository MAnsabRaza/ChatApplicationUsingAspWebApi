@model ChatApplication.Models.User
@{
    ViewBag.Title = "Register";
}


<div class="min-h-screen flex items-center justify-center">
    <div class="bg-white shadow-2xl rounded-xl p-8 w-full max-w-lg">
        <h2 class="text-3xl font-bold text-center bg-gradient-to-r from-gray-800 to-black bg-clip-text text-transparent mb-6">
            Create Your Account
        </h2>
      
        <form id="registerForm">
            <div class="mb-5">
                <label class="block text-gray-700 font-semibold mb-1">Name</label>
                <div class="relative">
                    <span class="absolute left-3 top-3 text-gray-400">
                        <i class="fas fa-user"></i>
                    </span>
                    <input type="text"
                           name="name"
                           id="name"
                           placeholder="Enter Your Name"
                           class="pl-10 pr-3 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:outline-none">
                </div>
            </div>
            <div class="mb-5">
                <label class="block text-gray-700 font-semibold mb-1">Phone Number</label>
                <div class="relative">
                    <span class="absolute left-3 top-3 text-gray-400">
                        <i class="fas fa-phone"></i>
                    </span>
                    <input type="tel"
                           name="phone_number"
                           id="phone_number"
                           placeholder="Enter Your Phone Number"
                           class="pl-10 pr-3 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:outline-none">
                </div>

            </div>
            <div class="mb-5">
                <label class="block text-gray-700 font-semibold mb-1">Email</label>
                <div class="relative">
                    <span class="absolute left-3 top-3 text-gray-400">
                        <i class="fas fa-envelope"></i>
                    </span>
                    <input type="email"
                           name="email"
                           id="email"
                           placeholder="Enter Your Email"
                           class="pl-10 pr-3 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:outline-none">
                </div>

            </div>

            <div class="mb-6">
                <label class="block text-gray-700 font-semibold mb-1">Password</label>
                <div class="relative">
                    <span class="absolute left-3 top-3 text-gray-400">
                        <i class="fas fa-lock"></i>
                    </span>
                    <input type="password"
                           name="password"
                           id="password"
                           placeholder="Enter Your Password"
                           class="pl-10 pr-3 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:outline-none">
                </div>
            </div>
            <div class="mb-6">
                <label class="block text-gray-700 font-semibold mb-1">Address</label>
                <div class="relative">
                    <span class="absolute left-3 top-3 text-gray-400">
                        <i class="fas fa-location"></i>
                    </span>
                    <input type="text"
                           name="address"
                           id="address"
                           placeholder="Enter Your Address"
                           class="pl-10 pr-3 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:outline-none">
                </div>
            </div>

            <button type="submit"
                    class="w-full py-3 text-lg text-white bg-gradient-to-r from-gray-800 to-black
        hover:from-black hover:to-gray-800
        rounded-lg shadow-lg transition duration-300">
                Sign Up
            </button>


        </form>



        <p class="text-center text-gray-600 mt-4">
            if you have account?
            <a href="/User/Login" class="bg-gradient-to-br from-blue-500 to-gray-800 bg-clip-text
                text-transparent hover:underline">Sign In</a>
        </p>

    </div>
</div>
<script>
    document.getElementById("registerForm").addEventListener('submit', async function (e) {
        e.preventDefault();
        const saveObj = {
             email: document.getElementById('email').value.trim(),
             password: document.getElementById('password').value.trim(),
            phone_number: document.getElementById('phone_number').value.trim(),
            name: document.getElementById('name').value.trim(),
            address: document.getElementById('address').value.trim(),
        };
        try {
            const res =await fetch('/User/Create', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(saveObj),
            });
            const data = await res.json();
            if (data.status === 200) {
                alert(data.message);
                window.location.href = '/User/Login';
            }
            else {
                alert(data.message);
            }
        }
        catch (error) {
            console.error('Error:', error);
            alert('Something went wrong');
        }
    });
</script>

